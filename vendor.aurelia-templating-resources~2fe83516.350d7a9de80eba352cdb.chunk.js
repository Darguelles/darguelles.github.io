(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"aurelia-templating-resources":function(e,t,n){"use strict";(function(e){n.d(t,"configure",function(){return ge});var i=n("3U8n"),o=n("70NS"),r=n("K/SW"),s=n("hij8"),a=n("X5gX"),u=n("MP1E"),c=n("ZdUM"),l=n("iD3O"),d=n("qrcG"),h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function f(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function p(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}var v=function(){function e(e,t,n,i,o,r){this.element=e,this.container=t,this.compositionEngine=n,this.viewSlot=i,this.viewResources=o,this.taskQueue=r,this.currentController=null,this.currentViewModel=null,this.changes=Object.create(null)}return e.inject=function(){return[o.b.Element,i.a,s.g,s.r,s.q,r.a]},e.prototype.created=function(e){this.owningView=e},e.prototype.bind=function(e,t){this.bindingContext=e,this.overrideContext=t;var n=this.changes;n.view=this.view,n.viewModel=this.viewModel,n.model=this.model,this.pendingTask||w(this)},e.prototype.unbind=function(){this.changes=Object.create(null),this.bindingContext=null,this.overrideContext=null;this.viewSlot.removeAll(!0,!0)},e.prototype.modelChanged=function(e,t){this.changes.model=e,b(this)},e.prototype.viewChanged=function(e,t){this.changes.view=e,b(this)},e.prototype.viewModelChanged=function(e,t){this.changes.viewModel=e,b(this)},p([s.s],e.prototype,"model",void 0),p([s.s],e.prototype,"view",void 0),p([s.s],e.prototype,"viewModel",void 0),p([s.s],e.prototype,"swapOrder",void 0),e=p([s.x,Object(s.v)("compose")],e)}();function w(t){var n=t.changes;if(t.changes=Object.create(null),"view"in n||"viewModel"in n||!("model"in n)){var i={view:t.view,viewModel:t.currentViewModel||t.viewModel,model:t.model};i=Object.assign(i,n),i=function(e,t){return Object.assign(t,{bindingContext:e.bindingContext,overrideContext:e.overrideContext,owningView:e.owningView,container:e.container,viewSlot:e.viewSlot,viewResources:e.viewResources,currentController:e.currentController,host:e.element,swapOrder:e.swapOrder})}(t,i),t.pendingTask=t.compositionEngine.compose(i).then(function(e){t.currentController=e,t.currentViewModel=e?e.viewModel:null})}else if(t.pendingTask=function(t,n){if(t&&"function"==typeof t.activate)return e.resolve(t.activate(n))}(t.currentViewModel,n.model),!t.pendingTask)return;t.pendingTask=t.pendingTask.then(function(){y(t)},function(e){throw y(t),e})}function y(e){e.pendingTask=null,function(e){for(var t in e)return!1;return!0}(e.changes)||w(e)}function b(e){e.pendingTask||e.updateRequested||(e.updateRequested=!0,e.taskQueue.queueMicroTask(function(){e.updateRequested=!1,w(e)}))}var g=function(){function t(e,t){this.viewFactory=e,this.viewSlot=t,this.view=null,this.bindingContext=null,this.overrideContext=null,this.showing=!1,this.cache=!0}return t.prototype.bind=function(e,t){this.bindingContext=e,this.overrideContext=t},t.prototype.unbind=function(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing?(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)):this.view.returnToCache(),this.view=null))},t.prototype._show=function(){if(!this.showing)return null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),this.showing=!0,this.viewSlot.add(this.view);this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext)},t.prototype._hide=function(){var t=this;if(this.showing){this.showing=!1;var n=this.viewSlot.remove(this.view);if(n instanceof e)return n.then(function(){t._unbindView()});this._unbindView()}},t.prototype._unbindView=function(){var e="false"!==this.cache&&!!this.cache;this.view.unbind(),e||(this.view=null)},t}(),m=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache=!0,e}return f(n,t),n.prototype.bind=function(e,n){t.prototype.bind.call(this,e,n),this.condition?this._show():this._hide()},n.prototype.conditionChanged=function(e){this._update(e)},n.prototype._update=function(e){var t,n=this;this.animating||(t=this.elseVm?e?this._swap(this.elseVm,this):this._swap(this,this.elseVm):e?this._show():this._hide())&&(this.animating=!0,t.then(function(){n.animating=!1,n.condition!==n.showing&&n._update(n.condition)}))},n.prototype._swap=function(t,n){switch(this.swapOrder){case"before":return e.resolve(n._show()).then(function(){return t._hide()});case"with":return e.all([t._hide(),n._show()]);default:var i=t._hide();return i?i.then(function(){return n._show()}):n._show()}},p([Object(s.s)({primaryProperty:!0})],n.prototype,"condition",void 0),p([s.s],n.prototype,"swapOrder",void 0),p([s.s],n.prototype,"cache",void 0),n=p([Object(s.u)("if"),s.z,Object(i.e)(s.f,s.r)],n)}(g),C=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._registerInIf(),i}return f(t,e),t.prototype.bind=function(t,n){e.prototype.bind.call(this,t,n),this.ifVm.condition?this._hide():this._show()},t.prototype._registerInIf=function(){for(var e=this.viewSlot.anchor.previousSibling;e&&!e.au;)e=e.previousSibling;if(!e||!e.au.if)throw new Error("Can't find matching If for Else custom attribute.");this.ifVm=e.au.if.viewModel,this.ifVm.elseVm=this},t=p([Object(s.u)("else"),s.z,Object(i.e)(s.f,s.r)],t)}(g),O=function(){function e(e,t){this.viewFactory=e,this.viewSlot=t,this.parentOverrideContext=null,this.view=null}return e.prototype.bind=function(e,t){this.parentOverrideContext=t,this.valueChanged(this.value)},e.prototype.valueChanged=function(e){var t=Object(a.B)(e,this.parentOverrideContext),n=this.view;n?n.bind(e,t):((n=this.view=this.viewFactory.create()).bind(e,t),this.viewSlot.add(n))},e.prototype.unbind=function(){var e=this.view;this.parentOverrideContext=null,e&&e.unbind()},e=p([Object(s.u)("with"),s.z,Object(i.e)(s.f,s.r)],e)}(),_=a.y.oneTime;function S(e,t){var n=e.length;for(t>0&&(t-=1);t<n;++t)V(e[t].overrideContext,t,n)}function x(e,t,n,i,o){var r={},s=Object(a.B)(r,e.scope.overrideContext);return void 0!==o?(r[e.key]=o,r[e.value]=t):r[e.local]=t,V(s,n,i),s}function V(e,t,n){var i=0===t,o=t===n-1,r=t%2==0;e.$index=t,e.$first=i,e.$last=o,e.$middle=!(i||o),e.$odd=!r,e.$even=r}function j(e){e.call&&e.mode===_?e.call(a.H):e.updateOneTimeBindings&&e.updateOneTimeBindings()}function M(e,t,n,i){if(!n)return e.indexOf(t);for(var o=e.length,r=i||0;r<o;r++)if(n(e[r],t))return r;return-1}var E=function(){function t(){}return t.prototype.getCollectionObserver=function(e,t){return e.getArrayObserver(t)},t.prototype.instanceChanged=function(t,n){var i=this,o=n.length;if(n&&0!==o){var r=t.views(),s=r.length;if(0!==s)if(t.viewsRequireLifecycle){for(var a=r.slice(0),u=t.local,c=t.matcher(),l=[],d=[],h=0;h<s;h++){var f=a[h],p=f.bindingContext[u];-1===M(n,p,c)?d.push(f):l.push(p)}var v=void 0,w=void 0;l.length>0?(w=t.removeViews(d,!0,!t.viewsRequireLifecycle),v=function(){for(var e=0;e<o;e++){var s=n[e],a=M(l,s,c,e),u=void 0;if(-1===a){var d=x(t,n[e],e,o);t.insertView(e,d.bindingContext,d),l.splice(e,0,void 0)}else a===e?(u=r[a],l[a]=void 0):(u=r[a],t.moveView(a,e),l.splice(a,1),l.splice(e,0,void 0));u&&V(u.overrideContext,e,o)}i._inPlaceProcessItems(t,n)}):(w=t.removeAllViews(!0,!t.viewsRequireLifecycle),v=function(){return i._standardProcessInstanceChanged(t,n)}),w instanceof e?w.then(v):v()}else this._inPlaceProcessItems(t,n);else this._standardProcessInstanceChanged(t,n)}else t.removeAllViews(!0,!t.viewsRequireLifecycle)},t.prototype._standardProcessInstanceChanged=function(e,t){for(var n=0,i=t.length;n<i;n++){var o=x(e,t[n],n,i);e.addView(o.bindingContext,o)}},t.prototype._inPlaceProcessItems=function(e,t){for(var n=t.length,i=e.viewCount();i>n;)i--,e.removeView(i,!0,!e.viewsRequireLifecycle);for(var o=e.local,r=0;r<i;r++){var s=e.view(r),a=r===n-1,u=0!==r&&!a,c=s.bindingContext,l=s.overrideContext;c[o]===t[r]&&l.$middle===u&&l.$last===a||(c[o]=t[r],l.$middle=u,l.$last=a,e.updateBindings(s))}for(r=i;r<n;r++){l=x(e,t[r],r,n);e.addView(l.bindingContext,l)}},t.prototype.instanceMutated=function(t,n,i){var o=this;if(t.__queuedSplices){for(var r=0,s=i.length;r<s;++r){var u=i[r],c=u.index,l=u.removed,d=u.addedCount;Object(a.F)(t.__queuedSplices,c,l,d)}t.__array=n.slice(0)}else{var h=this._runSplices(t,n.slice(0),i);if(h instanceof e){var f=t.__queuedSplices=[],p=function(){if(!f.length)return t.__queuedSplices=void 0,void(t.__array=void 0);var n=o._runSplices(t,t.__array,f)||e.resolve();f=t.__queuedSplices=[],n.then(p)};h.then(p)}}},t.prototype._runSplices=function(t,n,i){for(var o=this,r=0,s=[],a=0,u=i.length;a<u;++a){for(var c=i[a],l=0,d=c.removed.length;l<d;++l){var h=t.removeView(c.index+r+s.length,!0);h instanceof e&&s.push(h)}r-=c.addedCount}if(s.length>0)return e.all(s).then(function(){var e=o._handleAddedSplices(t,n,i);S(t.views(),e)});var f=this._handleAddedSplices(t,n,i);S(t.views(),f)},t.prototype._handleAddedSplices=function(e,t,n){for(var i,o,r=t.length,s=0,a=n.length;s<a;++s){var u=n[s],c=i=u.index,l=u.index+u.addedCount;for((null==o||o>u.index)&&(o=i);c<l;++c){var d=x(e,t[c],c,r);e.insertView(c,d.bindingContext,d)}}return o},t}(),I=function(){function t(){}return t.prototype.getCollectionObserver=function(e,t){return e.getMapObserver(t)},t.prototype.instanceChanged=function(t,n){var i=this,o=t.removeAllViews(!0,!t.viewsRequireLifecycle);o instanceof e?o.then(function(){return i._standardProcessItems(t,n)}):this._standardProcessItems(t,n)},t.prototype._standardProcessItems=function(e,t){var n,i=0;t.forEach(function(o,r){n=x(e,o,i,t.size,r),e.addView(n.bindingContext,n),++i})},t.prototype.instanceMutated=function(t,n,i){var o,r,s,a,u,c,l,d,h=[];for(r=0,s=i.length;r<s;++r)switch(o=(l=i[r]).key,l.type){case"update":u=this._getViewIndexByKey(t,o),(d=t.removeView(u,!0,!t.viewsRequireLifecycle))instanceof e&&h.push(d),a=x(t,n.get(o),u,n.size,o),t.insertView(u,a.bindingContext,a);break;case"add":c=t.viewCount()<=n.size-1?t.viewCount():n.size-1,a=x(t,n.get(o),c,n.size,o),t.insertView(n.size-1,a.bindingContext,a);break;case"delete":if(void 0===l.oldValue)return;u=this._getViewIndexByKey(t,o),(d=t.removeView(u,!0,!t.viewsRequireLifecycle))instanceof e&&h.push(d);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}h.length>0?e.all(h).then(function(){S(t.views(),0)}):S(t.views(),0)},t.prototype._getViewIndexByKey=function(e,t){var n,i;for(n=0,i=e.viewCount();n<i;++n)if(e.view(n).bindingContext[e.key]===t)return n},t}(),T=function(){function e(){}return e.prototype.instanceChanged=function(e,t){e.removeAllViews(!0)},e.prototype.getCollectionObserver=function(e,t){},e}(),k=function(){function t(){}return t.prototype.getCollectionObserver=function(){return null},t.prototype.instanceChanged=function(t,n){var i=this,o=t.removeAllViews(!0,!t.viewsRequireLifecycle);o instanceof e?o.then(function(){return i._standardProcessItems(t,n)}):this._standardProcessItems(t,n)},t.prototype._standardProcessItems=function(e,t){var n,i,o,r,s=e.viewCount();if((r=s-(t=Math.floor(t)))>0)for(r>s&&(r=s),n=0,i=r;n<i;++n)e.removeView(s-(n+1),!0,!e.viewsRequireLifecycle);else{for(n=s,i=t;n<i;++n)o=x(e,n,n,i),e.addView(o.bindingContext,o);S(e.views(),0)}},t}(),A=function(){function t(){}return t.prototype.getCollectionObserver=function(e,t){return e.getSetObserver(t)},t.prototype.instanceChanged=function(t,n){var i=this,o=t.removeAllViews(!0,!t.viewsRequireLifecycle);o instanceof e?o.then(function(){return i._standardProcessItems(t,n)}):this._standardProcessItems(t,n)},t.prototype._standardProcessItems=function(e,t){var n,i=0;t.forEach(function(o){n=x(e,o,i,t.size),e.addView(n.bindingContext,n),++i})},t.prototype.instanceMutated=function(t,n,i){var o,r,s,a,u,c,l,d=[];for(r=0,s=i.length;r<s;++r)switch(o=(c=i[r]).value,c.type){case"add":var h=Math.max(n.size-1,0);a=x(t,o,h,n.size),t.insertView(h,a.bindingContext,a);break;case"delete":u=this._getViewIndexByValue(t,o),(l=t.removeView(u,!0,!t.viewsRequireLifecycle))instanceof e&&d.push(l);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}d.length>0?e.all(d).then(function(){S(t.views(),0)}):S(t.views(),0)},t.prototype._getViewIndexByValue=function(e,t){var n,i;for(n=0,i=e.viewCount();n<i;++n)if(e.view(n).bindingContext[e.local]===t)return n},t}(),q=function(){function e(){this.matchers=[],this.strategies=[],this.addStrategy(function(e){return null==e},new T),this.addStrategy(function(e){return e instanceof Array},new E),this.addStrategy(function(e){return e instanceof Map},new I),this.addStrategy(function(e){return e instanceof Set},new A),this.addStrategy(function(e){return"number"==typeof e},new k)}return e.prototype.addStrategy=function(e,t){this.matchers.push(e),this.strategies.push(t)},e.prototype.getStrategy=function(e){for(var t=this.matchers,n=0,i=t.length;n<i;++n)if(t[n](e))return this.strategies[n];return null},e}(),L=["focus","if","else","repeat","show","hide","with"];function R(e){var t=e.type,n=null!==t.elementName?t.elementName:t.attributeName;return-1===L.indexOf(n)&&(t.handlesAttached||t.handlesBind||t.handlesCreated||t.handlesDetached||t.handlesUnbind)||t.viewFactory&&B(t.viewFactory)||e.viewFactory&&B(e.viewFactory)}function P(e){var t=e.behaviorInstructions;if(t)for(var n=t.length;n--;)if(R(t[n]))return!0;return e.viewFactory&&B(e.viewFactory)}function B(e){if("_viewsRequireLifecycle"in e)return e._viewsRequireLifecycle;if(e._viewsRequireLifecycle=!1,e.viewFactory)return e._viewsRequireLifecycle=B(e.viewFactory),e._viewsRequireLifecycle;if(e.template.querySelector(".au-animate"))return e._viewsRequireLifecycle=!0,!0;for(var t in e.instructions)if(P(e.instructions[t]))return e._viewsRequireLifecycle=!0,!0;return e._viewsRequireLifecycle=!1,!1}var F=function(e){function t(t,n,i,o,r,s){var u=e.call(this,{local:"item",viewsRequireLifecycle:B(t)})||this;return u.viewFactory=t,u.instruction=n,u.viewSlot=i,u.lookupFunctions=o.lookupFunctions,u.observerLocator=r,u.key="key",u.value="value",u.strategyLocator=s,u.ignoreMutation=!1,u.sourceExpression=function(e,t){return e.behaviorInstructions.filter(function(e){return e.originalAttrName===t})[0].attributes.items.sourceExpression}(u.instruction,"repeat.for"),u.isOneTime=function(e){for(;e instanceof a.e;){if("oneTime"===e.name)return!0;e=e.expression}return!1}(u.sourceExpression),u.viewsRequireLifecycle=B(t),u}return f(t,e),t.prototype.call=function(e,t){this[e](this.items,t)},t.prototype.bind=function(e,t){this.scope={bindingContext:e,overrideContext:t},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()},t.prototype.unbind=function(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0,!0),this._unsubscribeCollection()},t.prototype._unsubscribeCollection=function(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)},t.prototype.itemsChanged=function(){var e=this;if(this._unsubscribeCollection(),this.scope){var t=this.items;if(this.strategy=this.strategyLocator.getStrategy(t),!this.strategy)throw new Error("Value for '"+this.sourceExpression+"' is non-repeatable");this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.ignoreMutation=!0,this.strategy.instanceChanged(this,t),this.observerLocator.taskQueue.queueMicroTask(function(){e.ignoreMutation=!1})}},t.prototype._getInnerCollection=function(){var e=function(e){for(var t=!1;e instanceof a.e;)e=e.expression;for(;e instanceof a.v;)e=e.expression,t=!0;return t?e:null}(this.sourceExpression);return e?e.evaluate(this.scope,null):null},t.prototype.handleCollectionMutated=function(e,t){this.collectionObserver&&(this.ignoreMutation||this.strategy.instanceMutated(this,e,t))},t.prototype.handleInnerCollectionMutated=function(e,t){var n=this;if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;var i=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(function(){return n.ignoreMutation=!1}),i===this.items?this.itemsChanged():this.items=i}},t.prototype._observeInnerCollection=function(){var e=this._getInnerCollection(),t=this.strategyLocator.getStrategy(e);return!!t&&(this.collectionObserver=t.getCollectionObserver(this.observerLocator,e),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))},t.prototype._observeCollection=function(){var e=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,e),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))},t.prototype._captureAndRemoveMatcherBinding=function(){if(this.viewFactory.viewFactory)for(var e=this.viewFactory.viewFactory.instructions,t=Object.keys(e),n=0;n<t.length;n++){var i=e[t[n]].expressions;if(i)for(var o=0;o<i.length;o++)if("matcher"===i[o].targetProperty){var r=i[o];return i.splice(o,1),r}}},t.prototype.viewCount=function(){return this.viewSlot.children.length},t.prototype.views=function(){return this.viewSlot.children},t.prototype.view=function(e){return this.viewSlot.children[e]},t.prototype.matcher=function(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null},t.prototype.addView=function(e,t){var n=this.viewFactory.create();n.bind(e,t),this.viewSlot.add(n)},t.prototype.insertView=function(e,t,n){var i=this.viewFactory.create();i.bind(t,n),this.viewSlot.insert(e,i)},t.prototype.moveView=function(e,t){this.viewSlot.move(e,t)},t.prototype.removeAllViews=function(e,t){return this.viewSlot.removeAll(e,t)},t.prototype.removeViews=function(e,t,n){return this.viewSlot.removeMany(e,t,n)},t.prototype.removeView=function(e,t,n){return this.viewSlot.removeAt(e,t,n)},t.prototype.updateBindings=function(e){for(var t=e,n=t.bindings.length;n--;)j(t.bindings[n]);for(n=t.controllers.length;n--;)for(var i=t.controllers[n].boundProperties.length;i--;){j(t.controllers[n].boundProperties[i].binding)}},p([s.s],t.prototype,"items",void 0),p([s.s],t.prototype,"local",void 0),p([s.s],t.prototype,"key",void 0),p([s.s],t.prototype,"value",void 0),t=p([Object(s.u)("repeat"),s.z,Object(i.e)(s.f,s.l,s.r,s.q,a.s,q)],t)}(function(){function e(e){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},e)}return e.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")},e.prototype.views=function(){throw new Error("subclass must implement `views`")},e.prototype.view=function(e){throw new Error("subclass must implement `view`")},e.prototype.matcher=function(){throw new Error("subclass must implement `matcher`")},e.prototype.addView=function(e,t){throw new Error("subclass must implement `addView`")},e.prototype.insertView=function(e,t,n){throw new Error("subclass must implement `insertView`")},e.prototype.moveView=function(e,t){throw new Error("subclass must implement `moveView`")},e.prototype.removeAllViews=function(e,t){throw new Error("subclass must implement `removeAllViews`")},e.prototype.removeViews=function(e,t,n){throw new Error("subclass must implement `removeView`")},e.prototype.removeView=function(e,t,n){throw new Error("subclass must implement `removeView`")},e.prototype.updateBindings=function(e){throw new Error("subclass must implement `updateBindings`")},e}()),z=".aurelia-hide { display:none !important; }";function N(e){o.c.shadowDOM&&e&&!e.hasAureliaHideStyle&&(e.hasAureliaHideStyle=!0,o.b.injectStyles(z,e))}var D=function(){function e(e,t,n){this.element=e,this.animator=t,this.domBoundary=n}return e.inject=function(){return[o.b.Element,s.a,i.c.of(o.b.boundary,!0)]},e.prototype.created=function(){N(this.domBoundary)},e.prototype.valueChanged=function(e){var t=this.element,n=this.animator;e?n.removeClass(t,"aurelia-hide"):n.addClass(t,"aurelia-hide")},e.prototype.bind=function(e){this.valueChanged(this.value)},e=p([Object(s.u)("show")],e)}(),H=function(){function e(e,t,n){this.element=e,this.animator=t,this.domBoundary=n}return e.inject=function(){return[o.b.Element,s.a,i.c.of(o.b.boundary,!0)]},e.prototype.created=function(){N(this.domBoundary)},e.prototype.valueChanged=function(e){e?this.animator.addClass(this.element,"aurelia-hide"):this.animator.removeClass(this.element,"aurelia-hide")},e.prototype.bind=function(e){this.valueChanged(this.value)},e.prototype.value=function(e){throw new Error("Method not implemented.")},e=p([Object(s.u)("hide")],e)}(),$=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,W=!0,G=function(){function e(){}return e.prototype.sanitize=function(e){return W&&(W=!1,Object(u.getLogger)("html-sanitizer").warn("CAUTION: The default HTMLSanitizer does NOT provide security against a wide variety of sophisticated XSS attacks,\nand should not be relied on for sanitizing input from unknown sources.\nPlease see https://aurelia.io/docs/binding/basics#element-content for instructions on how to use a secure solution like DOMPurify or sanitize-html.")),e.replace($,"")},e}(),Q=function(){function e(e){this.sanitizer=e}return e.prototype.toView=function(e){return null==e?null:this.sanitizer.sanitize(e)},e=p([Object(a.K)("sanitizeHTML"),Object(i.e)(G)],e)}(),U=function(){function e(e,t){this.viewFactory=e,this.viewSlot=t,this.view=null}return e.prototype.bind=function(e,t){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(e,t)},e.prototype.unbind=function(){this.view.unbind()},e=p([Object(s.u)("replaceable"),s.z,Object(i.e)(s.f,s.r)],e)}(),K=function(){function e(e,t){this.element=e,this.taskQueue=t,this.isAttached=!1,this.needsApply=!1}return e.inject=function(){return[o.b.Element,r.a]},e.prototype.valueChanged=function(e){this.isAttached?this._apply():this.needsApply=!0},e.prototype._apply=function(){var e=this;this.value?this.taskQueue.queueMicroTask(function(){e.value&&e.element.focus()}):this.element.blur()},e.prototype.attached=function(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this),this.element.addEventListener("blur",this)},e.prototype.detached=function(){this.isAttached=!1,this.element.removeEventListener("focus",this),this.element.removeEventListener("blur",this)},e.prototype.handleEvent=function(e){"focus"===e.type?this.value=!0:o.b.activeElement!==this.element&&(this.value=!1)},e=p([Object(s.u)("focus",a.y.twoWay)],e)}(),J=/url\((?!['"]data)([^)]+)\)/gi;var X=function(){function e(e){this.address=e,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}return e.prototype.initialize=function(e,t){this._scoped=new t(this)},e.prototype.register=function(e,t){"scoped"===t?e.registerViewEngineHooks(this._scoped):this._global=!0},e.prototype.load=function(e){var t=this;return e.get(c.a).loadText(this.address).catch(function(e){return null}).then(function(e){e=function(e,t){if("string"!=typeof t)throw new Error("Failed loading required CSS file: "+e);return t.replace(J,function(t,n){var i=n.charAt(0);return"'"!==i&&'"'!==i||(n=n.substr(1,n.length-2)),"url('"+Object(l.d)(n,e)+"')"})}(t.address,e),t._scoped.css=e,t._global&&(t._alreadyGloballyInjected=!0,o.b.injectStyles(e))})},e}(),Z=function(){function e(e){this.owner=e,this.css=null}return e.prototype.beforeCompile=function(e,t,n){if(n.targetShadowDOM)o.b.injectStyles(this.css,e,!0);else if(o.c.scopedCSS){o.b.injectStyles(this.css,e,!0).setAttribute("scoped","scoped")}else this._global&&!this.owner._alreadyGloballyInjected&&(o.b.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)},e}();var Y=function(){function e(){}return e.prototype.bind=function(e,t){e.targetObserver=new a.l(e.target,e.targetProperty)},e.prototype.unbind=function(e,t){},e=p([Object(a.x)("attr")],e)}(),ee={bind:function(e,t,n){e.originalMode=e.mode,e.mode=this.mode},unbind:function(e,t){e.mode=e.originalMode,e.originalMode=null}},te=function(){function e(){this.mode=a.y.oneTime}return e=p([Object(d.d)(ee),Object(a.x)("oneTime")],e)}(),ne=function(){function e(){this.mode=a.y.toView}return e=p([Object(d.d)(ee),Object(a.x)("oneWay")],e)}(),ie=function(){function e(){this.mode=a.y.toView}return e=p([Object(d.d)(ee),Object(a.x)("toView")],e)}(),oe=function(){function e(){this.mode=a.y.fromView}return e=p([Object(d.d)(ee),Object(a.x)("fromView")],e)}(),re=function(){function e(){this.mode=a.y.twoWay}return e=p([Object(d.d)(ee),Object(a.x)("twoWay")],e)}();function se(e){var t=this,n=this.throttleState,i=+new Date-n.last;if(i>=n.delay)return clearTimeout(n.timeoutId),n.timeoutId=null,n.last=+new Date,void this.throttledMethod(e);n.newValue=e,null===n.timeoutId&&(n.timeoutId=setTimeout(function(){n.timeoutId=null,n.last=+new Date,t.throttledMethod(n.newValue)},n.delay-i))}var ae=function(){function e(){}return e.prototype.bind=function(e,t,n){void 0===n&&(n=200);var i="updateTarget";e.callSource?i="callSource":e.updateSource&&e.mode===a.y.twoWay&&(i="updateSource"),e.throttledMethod=e[i],e.throttledMethod.originalName=i,e[i]=se,e.throttleState={delay:n,last:0,timeoutId:null}},e.prototype.unbind=function(e,t){e[e.throttledMethod.originalName]=e.throttledMethod,e.throttledMethod=null,clearTimeout(e.throttleState.timeoutId),e.throttleState=null},e=p([Object(a.x)("throttle")],e)}(),ue={};function ce(e){var t=this,n=this.debounceState;clearTimeout(n.timeoutId),n.timeoutId=setTimeout(function(){return t.debouncedMethod(e)},n.delay)}function le(e,t,n){var i=this,o=this.debounceState;if(clearTimeout(o.timeoutId),e!==o.callContextToDebounce)return o.oldValue=ue,void this.debouncedMethod(e,t,n);o.oldValue===ue&&(o.oldValue=n),o.timeoutId=setTimeout(function(){var n=o.oldValue;o.oldValue=ue,i.debouncedMethod(e,t,n)},o.delay)}var de=function(){function e(){}return e.prototype.bind=function(e,t,n){void 0===n&&(n=200);var i=void 0!==e.callSource,o=i?"callSource":"call",r=i?ce:le,s=e.mode,u=s===a.y.twoWay||s===a.y.fromView?a.J:a.H;e.debouncedMethod=e[o],e.debouncedMethod.originalName=o,e[o]=r,e.debounceState={callContextToDebounce:u,delay:n,timeoutId:0,oldValue:ue}},e.prototype.unbind=function(e,t){e[e.debouncedMethod.originalName]=e.debouncedMethod,e.debouncedMethod=null,clearTimeout(e.debounceState.timeoutId),e.debounceState=null},e=p([Object(a.x)("debounce")],e)}();function he(e){var t=function(e){return e.path&&e.path[0]||e.deepPath&&e.deepPath[0]||e.target}(e);this.target===t&&this.selfEventCallSource(e)}var fe=function(){function e(){}return e.prototype.bind=function(e,t){if(!e.callSource||!e.targetEvent)throw new Error("Self binding behavior only supports event.");e.selfEventCallSource=e.callSource,e.callSource=he},e.prototype.unbind=function(e,t){e.callSource=e.selfEventCallSource,e.selfEventCallSource=null},e=p([Object(a.x)("self")],e)}(),pe=function(){function e(){this.signals={}}return e.prototype.signal=function(e){var t=this.signals[e];if(t)for(var n=t.length;n--;)t[n].call(a.H)},e}(),ve=function(){function e(e){this.signals=e.signals}return e.inject=function(){return[pe]},e.prototype.bind=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!e.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");var o=this.signals;if(1===n.length){var r=n[0];(o[r]||(o[r]=[])).push(e),e.signalName=r}else{if(!(n.length>1))throw new Error("Signal name is required.");for(var s=n.length;s--;){var a=n[s];(o[a]||(o[a]=[])).push(e)}e.signalName=n}},e.prototype.unbind=function(e,t){var n=this.signals,i=e.signalName;if(e.signalName=null,Array.isArray(i))for(var o=i,r=o.length;r--;){var s;(s=n[o[r]]).splice(s.indexOf(e),1)}else(s=n[i]).splice(s.indexOf(e),1)},e=p([Object(a.x)("signal")],e)}(),we="The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.",ye=function(){function e(){}return e.prototype.bind=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(0===n.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(e.mode!==a.y.twoWay&&e.mode!==a.y.fromView)throw new Error(we);var o=e.observerLocator.getObserver(e.target,e.targetProperty);if(!o.handler)throw new Error(we);e.targetObserver=o,o.originalHandler=e.targetObserver.handler;var r=new a.n(n);o.handler=r},e.prototype.unbind=function(e,t){var n=e.targetObserver;n.handler.dispose(),n.handler=n.originalHandler,n.originalHandler=null},e=p([Object(a.x)("updateTrigger")],e)}();function be(e){var t=e.container.get(s.o),n=e.aurelia.loader;t.addResourcePlugin(".html",{fetch:function(e){return n.loadTemplate(e).then(function(t){var n,i=t.template.getAttribute("bindable"),o=t.template.getAttribute("use-shadow-dom"),r=/([^\/^\?]+)\.html/i.exec(e)[1].toLowerCase();return i?(i=i.split(",").map(function(e){return e.trim()}),t.template.removeAttribute("bindable")):i=[],(n={})[r]=function(e){for(var t=e.name,n=e.viewUrl,i=e.bindableNames,o=e.useShadowDOMmode,r=function(){function e(){}return e.prototype.bind=function(e){this.$parent=e},e=p([Object(s.v)(t),Object(s.B)(n)],e)}(),a=0,c=i.length;a<c;++a)Object(s.s)(i[a])(r);switch(o){case"open":Object(s.A)({mode:"open"})(r);break;case"closed":Object(s.A)({mode:"closed"})(r);break;case"":Object(s.A)(r);break;case null:break;default:Object(u.getLogger)("aurelia-html-only-element").warn('Expected \'use-shadow-dom\' value to be "close", "open" or "", received '+o)}return r}({name:r,viewUrl:e,bindableNames:i,useShadowDOMmode:o}),n})}})}function ge(e){o.b.injectStyles(z),e.globalResources(v,m,C,O,F,D,H,U,K,Q,te,ne,ie,oe,re,ae,de,fe,ve,ye,Y),be(e);var t=e.container.get(s.o),n={fetch:function(e){var t;return(t={})[e]=function(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return f(n,t),n=p([Object(s.y)(new X(e))],n)}(Z)}(e),t}};[".css",".less",".sass",".scss",".styl"].forEach(function(e){return t.addResourcePlugin(e,n)})}}).call(this,n("B/eG").default)}}]);
//# sourceMappingURL=vendor.aurelia-templating-resources~2fe83516.350d7a9de80eba352cdb.bundle.map